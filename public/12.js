(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{213:function(e,t,o){"use strict";o.r(t);var r={data:function(){return{dni:"",email:"",phone:"",customer:{},dialog_title:"",countries:[],step:1,turn:0,saving:!1,min:""}},computed:{},methods:{getCustomer:function(){var e=this;axios.get("/api/customers/edit/".concat(e.$route.params.id)).then((function(t){var o=t.data;o.customer?e.customer=o.customer:e.$router.push({name:"customers"})}))},getCountries:function(){var e=this;axios.get("/api/countries").then((function(t){e.countries=t.data.countries})).catch((function(e){console.log(e)}))},updateCustomer:function(){var e=this;e.validateCustomer()||(e.saving=!0,axios.post("/api/customers/update/".concat(e.$route.params.id),e.customer).then((function(t){Swal.fire({position:"top-end",icon:"success",title:"".concat(t.data.message),timer:3e3}),e.$router.push({name:"customers"})})).catch((function(t){if(422==t.response.status){for(var o="",r=t.response.data.errors,s=0,a=Object.keys(r);s<a.length;s++){o=o+". "+r[a[s]].flat()}e.alert(4,o)}})).finally((function(){return e.saving=!1})))},validateCustomer:function(){var e=this;return e.eCustomer=0,e.errListC=[],e.customer.name||e.errListC.push("Por favor ingrese nombre completo"),e.customer.dni||e.errListC.push("Por favor ingrese una identificacion Valida!."),e.customer.phone||e.errListC.push("Ingrese un numero telefonico valido"),e.customer.email||e.errListC.push("Ingrese un email valido"),e.customer.birthdate||e.errListC.push("Ingrese fecha de Nacimiento"),e.email&&e.errListC.push("E-mail Registrado, por favor introduzca otro"),e.phone&&e.errListC.push("Telefono registrado, por favor introduzca otro"),e.dni&&e.errListC.push("Documento registrado, verifique si el customere esta registrado Cuando realize un Pago."),e.errListC.length&&(e.eCustomer=1),e.errListC.length>=1&&Swal.fire({title:"Falta(n) Datos",icon:"error",confirmButtonText:"Aceptar!",confirmButtonColor:"#3085d6",html:"".concat(e.errListC.map((function(e){return'<br><span class="mb-3"><i class="mdi-close-circle-outline mr-3"></i> '.concat(e,"</span>")}))),showCancelButton:!1}),e.eCustomer},vEmail:function(e){var t=this;axios.get("/api/customers/email-verify/"+e).then((function(e){t.email=e.data.email})).catch((function(e){return console.log(e)}))},vDni:function(e){var t=this;axios.get("/api/customers/dni-verify/"+e).then((function(e){t.dni=e.data.dni})).catch((function(e){return console.log(e)}))},vPhone:function(e){var t=this;axios.get("/api/customers/phone-verify/"+e).then((function(e){t.phone=e.data.phone})).catch((function(e){return console.log(e)}))},valpass:function(){this.min=this.customer.password.length}},mounted:function(){this.getCustomer(),this.getCountries()}},s=(o(77),o(0)),a=Object(s.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-layout",{attrs:{row:"",wrap:""}},[o("v-container",[o("v-flex",{attrs:{xs6:""}},[o("v-subheader",{staticClass:"display-1"},[e._v("Registrar Cliente")])],1),e._v(" "),o("v-card",[o("v-card-text",[o("v-row",{staticClass:"mx-2"},[o("v-col",{staticClass:"pt-5 pl-0",attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{label:"Introduzca Nombre Completo",type:"text",required:"",color:"deep-purple",cols:"12",md:"6"},model:{value:e.customer.name,callback:function(t){e.$set(e.customer,"name",t)},expression:"customer.name"}})],1),e._v(" "),o("v-col",{staticClass:"pt-0 pl-0",attrs:{cols:"12",md:"4"}},[o("span",{directives:[{name:"show",rawName:"v-show",value:e.email,expression:"email"}],staticStyle:{color:"red"}},[e._v("Ya en Uso, Inserte Otro")]),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.email,expression:"!email"}],staticStyle:{color:"blue"}},[e._v("Ingrese Mail valido.")]),e._v(" "),o("v-text-field",{attrs:{type:"text",color:"deep-purple",label:"Insertar Mail"},on:{change:function(t){return e.vEmail(e.customer.email)}},model:{value:e.customer.email,callback:function(t){e.$set(e.customer,"email",t)},expression:"customer.email"}})],1),e._v(" "),o("v-col",{staticClass:"align-center justify-space-between",attrs:{cols:"12",md:"4"}},[o("v-autocomplete",{attrs:{clearable:"",color:"deep-purple",items:e.countries,"item-text":"name","item-value":"name",label:"De Donde Eres"},model:{value:e.customer.country,callback:function(t){e.$set(e.customer,"country",t)},expression:"customer.country"}})],1),e._v(" "),o("v-col",{staticClass:"pt-0 pl-0",attrs:{cols:"12",md:"4"}},[o("span",{directives:[{name:"show",rawName:"v-show",value:e.phone,expression:"phone"}],staticStyle:{color:"red"}},[e._v("Inserte otro, Este se Encuentra en uso!")]),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.phone,expression:"!phone"}],staticStyle:{color:"blue"}},[e._v("Inserte Telefono Unico.")]),e._v(" "),o("v-text-field",{attrs:{type:"text",label:"Numero de Telefono Valido",color:"deep-purple"},on:{change:function(t){return e.vPhone(e.customer.phone)}},model:{value:e.customer.phone,callback:function(t){e.$set(e.customer,"phone",t)},expression:"customer.phone"}})],1),e._v(" "),o("v-col",{staticClass:"pt-0 pl-0",attrs:{cols:"12",md:"4"}},[o("span",{directives:[{name:"show",rawName:"v-show",value:!e.customer.birthdate,expression:"!customer.birthdate"}]},[e._v("Fecha de nacimiento del Cliente.")]),e._v(" "),o("v-text-field",{attrs:{type:"date",color:"deep-purple",Label:"Ingrese una fecha de nacimiento"},model:{value:e.customer.birthdate,callback:function(t){e.$set(e.customer,"birthdate",t)},expression:"customer.birthdate"}})],1),e._v(" "),o("v-col",{staticClass:"pt-0 pl-0",attrs:{cols:"12",md:"6"}},[o("v-textarea",{attrs:{rows:"1","auto-grow":"",filled:"",color:"deep-purple",label:"Acerca del Cliente"},model:{value:e.customer.notes,callback:function(t){e.$set(e.customer,"notes",t)},expression:"customer.notes"}})],1)],1)],1),e._v(" "),o("v-card-actions",[o("router-link",{attrs:{to:{name:"customers"}}},[o("v-btn",[e._v(" Cancelar")])],1),e._v(" "),o("v-btn",{attrs:{text:"",color:"primary",loading:e.saving,right:""},on:{click:function(t){return e.createCustomer(e.customer)}}},[e._v("Registrar")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=a.exports},33:function(e,t,o){var r=o(78);"string"==typeof r&&(r=[[e.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(4)(r,s);r.locals&&(e.exports=r.locals)},77:function(e,t,o){"use strict";o(33)},78:function(e,t,o){(e.exports=o(3)(!1)).push([e.i,".v-col,.v-stepper--vertical .v-stepper__content{padding-top:0}",""])}}]);