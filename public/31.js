(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{244:function(e,r,t){"use strict";t.r(r);function o(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],o=!0,n=!1,s=void 0;try{for(var a,i=e[Symbol.iterator]();!(o=(a=i.next()).done)&&(t.push(a.value),!r||t.length!==r);o=!0);}catch(e){n=!0,s=e}finally{try{o||null==i.return||i.return()}finally{if(n)throw s}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return n(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}var s={data:function(){return{isValid:!0,menu:!1,max_date:"",dni:"",email:"",phone:"",customer:{password:"",password_confirmation:""},dialog_title:"",checkInEmail:!1,countries:[],step:1,turn:0,saving:!1,min:"",errG:0,errRegister:[],snackbar:!1,color:"general",showPassword:!1,registerErrors:{},passwordRules:{required:function(e){return!!e||"Campo Requerido."},min:function(e){return e.length>=8||"Min 8 caracteres entre letras y numeros"}},emailRules:{required:function(e){return!!e||"Email es Requerido"},valid:function(e){return/^(([^<>()[\]\\.,;:\s@']+(\.[^<>()\\[\]\\.,;:\s@']+)*)|('.+'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"E-mail debe ser valido"}}}},watch:{menu:function(e){var r=this;e&&setTimeout((function(){return r.$refs.picker.activePicker="YEAR"}))}},computed:{computedDate:function(){return this.formatDate(this.customer.birthdate)},currentUser:function(){return this.$store.getters.currentUser},passwordConfirmationRule:function(){return this.customer.password===this.customer.password_confirmation||"Las Contraseñas deben Coincidir"},emailAvailable:function(){return 0==this.email||"Email en uso, Ingrese otro!!."},progress:function(){return Math.min(100,12.5*this.customer.password.length)},colorp:function(){return["error","warning","success"][Math.floor(this.progress/40)]},progress2:function(){return Math.min(100,12.5*this.customer.password_confirmation.length)},colorpc:function(){return["error","warning","success"][Math.floor(this.progress2/40)]}},methods:{setDate:function(){var e=new Date;e=e.setFullYear(e.getFullYear()-18),this.max_date=new Date(e).toISOString().substr(0,10)},formatDate:function(e){if(!e)return null;var r=o(e.split("-"),3),t=r[0],n=r[1],s=r[2];return"".concat(s,"/").concat(n,"/").concat(t)},parseDate:function(e){if(!e)return null;var r=o(e.split("/"),3),t=r[0],n=r[1],s=r[2];return"".concat(s,"-").concat(t.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},save:function(e){this.$refs.menu.save(e)},createCustomer:function(){var e=this;e.validateCustomer()||(e.saving=!0,axios.post("/api/auth/register",e.customer).then((function(r){Swal.fire({position:"top-end",icon:"success",title:"".concat(r.data.message),timer:3e3}),e.$router.push({name:"Login"})})).catch((function(r){422==r.response.status?e.registerErrors=r.response.data.errors:console.log(r)})).finally((function(){return e.saving=!1})))},validateCustomer:function(){var e=this;return e.errG=0,e.errRegister=[],e.customer.name||e.errRegister.push("Por favor ingrese nombre completo"),e.customer.phone||e.errRegister.push("Ingrese un numero telefonico valido"),e.customer.email||e.errRegister.push("Ingrese un email valido"),e.customer.password||e.errRegister.push("Por favor ingrese una contraseña"),e.customer.password_confirmation||e.errRegister.push("Por favor ingrese una contraseña para verificacion"),e.email&&e.errRegister.push("Email Registrado, por favor introduzca otro"),e.errRegister.length&&(e.errG=1),e.errRegister.length>=1&&Swal.fire({title:"Falta(n) Datos",icon:"error",confirmButtonText:"Aceptar!",confirmButtonColor:"#3085d6",html:"".concat(e.errRegister.map((function(e){return'<br><span style="color:red;" class="mb-3"><i class="mdi mdi-minus-circle-outline mdi-spin mr-3"></i> '.concat(e,"</span>")}))),showCancelButton:!1}),e.err},vEmail:function(e){var r=this;r.checkInEmail=!0,axios.get("/api/auth/email-verify/"+e).then((function(e){r.email=e.data.email})).catch((function(e){return console.log(e)})).finally((function(){return r.checkInEmail=!1}))},vPhone:function(e){var r=this,t=this;axios.get("/api/auth/phone-verify/"+e).then((function(e){t.phone=e.data.user})).catch((function(e){return console.log(e)})).finally((function(){return r.loading=!1}))}},mounted:function(){this.setDate()},metaInfo:function(){return{title:"Para Enviar Remesas | Registrarse"}}},a=t(0),i=Object(a.a)(s,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-container",{attrs:{id:"login",fluid:"",tag:"section"}},[t("v-layout",{attrs:{"align-center":"","justify-center":""}},[t("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[t("v-card",{staticClass:"elevation-12"},[e.registerErrors?t("error-component",{attrs:{errors:e.registerErrors}}):e._e(),e._v(" "),t("v-toolbar",{staticClass:"white--text",attrs:{color:"#fb8c00"}},[t("v-toolbar-title",[e._v("Registrarse en VeneXpressDelPino")]),e._v(" "),t("v-spacer")],1),e._v(" "),t("v-card-text",[t("v-form",{model:{value:e.isValid,callback:function(r){e.isValid=r},expression:"isValid"}},[t("v-row",{staticClass:"mx-2"},[t("v-col",{staticClass:"pt-0 pl-0",attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{outlined:"",clearable:"",dense:"",label:"Introduzca Nombre Completo",placeholder:"Jon Doe",type:"text",rules:[function(e){return!!e||"Nombre Completo es Requerido"}],color:"deep-purple"},model:{value:e.customer.name,callback:function(r){e.$set(e.customer,"name",r)},expression:"customer.name"}})],1),e._v(" "),t("v-col",{staticClass:"pt-0 pl-0",attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{outlined:"",dense:"",type:"email",rules:[e.emailRules.required,e.emailRules.valid,e.emailAvailable],placeholder:"Ingrese Mail valido",color:"deep-purple",label:"Insertar Mail",loading:e.checkInEmail,disabled:e.checkInEmail},on:{change:function(r){return e.vEmail(e.customer.email)}},model:{value:e.customer.email,callback:function(r){e.$set(e.customer,"email",r)},expression:"customer.email"}})],1),e._v(" "),t("v-col",{staticClass:"pt-0 pl-0",attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{outlined:"",dense:"",type:"number",label:"Numero de Telefono Valido",color:"deep-purple"},on:{change:function(r){return e.vPhone(e.customer.phone)}},model:{value:e.customer.phone,callback:function(r){e.$set(e.customer,"phone",r)},expression:"customer.phone"}}),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.phone,expression:"phone"}],staticStyle:{color:"red"}},[e._v("Telefono en uso, por favor ingrese otro!")])],1),e._v(" "),t("v-col",{staticClass:"pt-0 pl-0",attrs:{cols:"12",md:"6"}},[t("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,n=r.attrs;return[t("v-text-field",e._g(e._b({attrs:{label:"Fecha de Nacimiento","prepend-outer-icon":"mdi-cake-variant",readonly:"",outlined:"",dense:"",clearable:""},model:{value:e.computedDate,callback:function(r){e.computedDate=r},expression:"computedDate"}},"v-text-field",n,!1),o))]}}]),model:{value:e.menu,callback:function(r){e.menu=r},expression:"menu"}},[e._v(" "),t("v-date-picker",{ref:"picker",attrs:{elevation:"10",color:"orange darken-4",max:e.max_date,min:"1950-01-01"},on:{change:e.save},model:{value:e.customer.birthdate,callback:function(r){e.$set(e.customer,"birthdate",r)},expression:"customer.birthdate"}})],1)],1),e._v(" "),t("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[t("v-row",{staticClass:"mr-0",attrs:{align:"center"}},[t("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{outlined:"",dense:"",placeholder:"Contraseña",label:"CONTRASEÑA",color:"deep-purple",rules:[e.passwordRules.required,e.passwordRules.min],"append-icon":e.showPassword?"mdi-eye-off":"mdi-eye",type:e.showPassword?"text":"password","prepend-icon":"mdi-lock",loading:""},on:{"click:append":function(r){e.showPassword=!e.showPassword}},scopedSlots:e._u([{key:"progress",fn:function(){return[t("v-progress-linear",{attrs:{value:e.progress,color:e.colorp,absolute:"",height:"7"}})]},proxy:!0}]),model:{value:e.customer.password,callback:function(r){e.$set(e.customer,"password",r)},expression:"customer.password"}})],1),e._v(" "),t("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{outlined:"",dense:"",placeholder:"Confirme Su Contraña",label:"Repita su Contraseña",color:"deep-purple",rules:[e.passwordRules.required,e.passwordRules.min,e.passwordConfirmationRule],"append-inner-icon":e.showPassword?"mdi-eye-off":"mdi-eye",type:e.showPassword?"text":"password","prepend-icon":"mdi-lock",loading:""},on:{"click:append":function(r){e.showPassword=!e.showPassword}},scopedSlots:e._u([{key:"progress",fn:function(){return[t("v-progress-linear",{attrs:{value:e.progress2,color:e.colorpc,absolute:"",height:"7"}})]},proxy:!0}]),model:{value:e.customer.password_confirmation,callback:function(r){e.$set(e.customer,"password_confirmation",r)},expression:"customer.password_confirmation"}})],1)],1)],1)],1)],1)],1),e._v(" "),t("v-divider",{staticClass:"mt-5"}),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{to:"/",text:""}},[e._v(" Cancelar")]),e._v(" "),t("v-btn",{attrs:{disabled:!e.isValid,color:"primary",loading:e.saving,right:""},on:{click:function(r){return e.createCustomer(e.customer)}}},[e._v("Registrar\n            ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);r.default=i.exports}}]);