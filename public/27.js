(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{222:function(t,e,a){"use strict";a.r(e);var i={data:function(){return{customers:[],expanded:[],search:"",pagination:{rowsPerPage:20},footerProps:{itemsPerPageOptions:[10,20,50,100],showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"mdi-minus",nextIcon:"mdi-plus"},loading:!1,searching:!1,customerHeaders:[{text:"id",align:"right",value:"id"},{text:"Nombre",align:"right",value:"name"},{text:"DNI",align:"right",value:"dni"},{text:"Fecha de Registro",align:"right",value:"created_at"},{text:"Opciones",value:"actions",sortable:!1}]}},methods:{getCustomers:function(){var t=this;t.loading=!0;this.pagination.current,this.search;axios.get("/api/customers/all").then((function(e){e=e.data.customers;t.customers=e})).catch((function(t){console.log(t.data)})).finally(t.loading=!1)},searchCustomer:function(){this.getCustomers()},onPageChange:function(){this.getCustomers()},activeCustomer:function(t){var e=this,a={url:"/api/customers/activate/"+t,title:"Activar Usuario?",active:1};Sfire.activeF(a).then((function(t){e.getCustomers(),e.alert(1,t)})).catch((function(t){e.alert(4,t)}))},desactiveCustomer:function(t){var e=this,a={url:"/api/customers/desactive/"+t,title:"Inactivar Futuras remesas a Cliente?",active:0};Sfire.desactiveF(a).then((function(t){e.getCustomers(),e.alert(1,t)})).catch((function(t){e.alert(4,t)}))},deleteCustomer:function(t){var e=this,a={url:"/api/customers/destroy/"+t,title:"Eliminar cuenta Cliente?",active:1};Sfire.deleteF(a).then((function(t){e.getCustomers(),e.alert(1,t)})).catch((function(t){e.alert(4,t)}))},alert:function(t,e){this.$refs.Alerts.showAlert(t,e)}},mounted:function(){this.getCustomers()}},n=a(0),s=Object(n.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{id:"regular-tables",fluid:"",tag:"section"}},[a("base-material-card",{staticClass:"px-5 py-3",attrs:{icon:"mdi-account-box-outline",title:"Tabla de Clientes"}},[a("alerts",{ref:"Alerts"}),t._v(" "),a("div",{staticClass:"text-center"},[a("v-row",[a("v-col",{attrs:{cols:"9",md:"3"}},[a("v-card",{staticClass:"my-0",attrs:{color:"teal",outlined:"",rounded:""}},[a("v-list",{staticClass:"my-0"},[a("v-list-item",{attrs:{to:{name:"create-customer"},link:""}},[a("v-list-item-avatar",[a("v-icon",{attrs:{large:"",color:"teal"}},[t._v("mdi-account-plus-outline")])],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{attrs:{color:"teal"},domProps:{textContent:t._s("Cliente Nuevo +")}})],1)],1)],1)],1)],1),t._v(" "),a("v-col",[a("v-text-field",{attrs:{outlined:"",clearable:"",color:"orange",filled:"","append-icon":"mdi-account-search",label:"Buscar Cliente","single-line":"","hide-details":"",disabled:t.loading},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-2",attrs:{search:t.search,headers:t.customerHeaders,items:t.customers,loading:"true","loading-text":"Espere por Favor. Cargando...","items-per-page":t.pagination.rowsPerPage,"footer-props":t.footerProps,expanded:t.expanded,"item-key":"name","show-expand":""},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"expanded-item-icon",fn:function(e){var i=e.item;return[a("td",{attrs:{"col-index":5}},[a("v-icon",{attrs:{color:i.isValid?"success":"error"}},[t._v("check")])],1)]}},{key:"expanded-item",fn:function(e){e.headers;var i=e.item;return[a("td",{attrs:{colspan:"2"}},[t._v("\n                        "+t._s(i.name)+"\n                    ")]),t._v(" "),a("td",{attrs:{colspan:"1"}},[t._v("\n                        "+t._s(i.email)+"\n                    ")]),t._v(" "),a("td",{attrs:{colspan:"1"}},[t._v("\n                        Telefono: "+t._s(i.phone)+"\n                    ")])]}},{key:"item.actions",fn:function(e){var i=e.item;return[1==i.active?a("v-btn",{staticClass:"ma-1",attrs:{color:"grey","x-small":"",outlined:"",rounded:"",filled:"","elevation-4":""},on:{click:function(e){return t.desactiveCustomer(i.id)}}},[t._v("\n                        Inhabilitar\n                        "),a("v-icon",{attrs:{small:"",right:"",light:""}},[t._v("mdi-book-off")])],1):t._e(),t._v(" "),0==i.active?a("v-btn",{staticClass:"ma-1 white--text",attrs:{color:"blue darken-2","x-small":"",outlined:"",rounded:"",filled:"","elevation-4":""},on:{click:function(e){return t.activeCustomer(i.id)}}},[t._v("\n                        Habilitar\n                        "),a("v-icon",{attrs:{small:"",right:"",light:""}},[t._v("mdi-check-circle-outline")])],1):t._e(),t._v(" "),a("v-btn",{staticClass:"ma-1 white--text",attrs:{color:"deep-orange","x-small":"",outlined:"",rounded:"",filled:""},on:{click:function(e){return t.deleteCustomer(i.id)}}},[t._v(" Eliminar\n                        "),a("v-icon",{attrs:{small:"",right:"",light:""}},[t._v(" mdi-close-outline ")])],1)]}}])}),t._v(" "),a("div",[t._v(t._s(t.$auth))])],1)],1)}),[],!1,null,null,null);e.default=s.exports}}]);