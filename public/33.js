(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{239:function(t,a,e){"use strict";e.r(a);function n(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var i={data:function(){var t;return n(t={payments:[],pay:{bank:{bank_name:""},detail_payments:[]},expanded:[],search:"",pagination:{current:1,total:0}},"search",""),n(t,"dialogDetail",!1),n(t,"loading",!1),n(t,"searching",!1),n(t,"paymentHeader",[{text:"Pago Nro.",align:"right",value:"id"},{text:"Cliente ",align:"right",value:"customer_name"},{text:"Monto",align:"right",value:"pay"},{text:"Banco",align:"right",value:"bank.bank_name"},{text:"Fecha de Registro",align:"right",value:"created_at"},{text:"Opciones",value:"actions",sortable:!1}]),t},methods:{getPayments:function(){var t=this;t.loading=!0,axios.get("/api/payments/my-payments?page="+this.pagination.current+"&search="+this.search).then((function(a){a=a.data.payments;t.payments=a.data,t.pagination.current=a.current_page,t.pagination.total=a.last_page})).catch((function(t){console.log(t.data)})).finally(t.loading=!1)},searchSale:function(){this.getPayments()},openDialog:function(t){this.pay=t,this.dialogDetail=!0},closeDialog:function(){this.pay={},this.dialogDetail=!1},onPageChange:function(){this.getPayments()},alert:function(t,a){this.$refs.Alerts.showAlert(t,a)},moneyFormat:function(t){return Sfire.moneyFormatF(t)}},mounted:function(){this.getPayments()}},s=e(0),o=Object(s.a)(i,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{id:"regular-tables",fluid:"",tag:"section"}},[e("base-material-card",{staticClass:"px-5 py-3",attrs:{icon:"mdi-file-document",title:"Tabla de Remesas"}},[e("alerts",{ref:"Alerts"}),t._v(" "),e("div",{staticClass:"text-center"},[e("v-row",[e("v-col",{attrs:{cols:"9",md:"3"}},[e("v-card",{staticClass:"my-0",attrs:{color:"teal",outlined:"",rounded:""}},[e("v-list",{staticClass:"my-0"},[e("v-list-item",{attrs:{to:{name:"create-payment"},link:""}},[e("v-list-item-avatar",[e("v-icon",{attrs:{large:"",color:"teal"}},[t._v("mdi-file-plus-outline")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",{attrs:{color:"teal"},domProps:{textContent:t._s("Remesa Nueva +")}})],1)],1)],1)],1)],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"9"}},[e("v-text-field",{attrs:{outlined:"",clearable:"",color:"orange",filled:"","append-icon":"mdi-file-find-outline",label:"Buscar Remesa","single-line":"","hide-details":""},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1)],1)],1),t._v(" "),e("v-data-table",{staticClass:"elevation-2",attrs:{search:t.search,headers:t.paymentHeader,items:t.payments,options:t.pagination,loading:"true","items-per-page":20,"item-key":"id","hide-default-footer":""},on:{"update:options":function(a){t.pagination=a}},scopedSlots:t._u([{key:"item.id",fn:function(a){var n=a.item;return[e("v-btn",{attrs:{rounded:"",outlined:"",color:"teal"},on:{click:function(a){return t.openDialog(n)}}},[e("div",[t._v(t._s(n.id)+" ")]),t._v(" "),e("v-icon",{staticClass:"pl-2"},[t._v("mdi-eye")])],1)]}},{key:"item.pay",fn:function(a){var n=a.item;return[e("div",[t._v(t._s(n.pay_formated)+" "+t._s(n.pay_iso))])]}},{key:"item.actions",fn:function(a){var n=a.item;return[e("v-btn",{staticClass:"ma-1 white--text",attrs:{outlined:"",rounded:"",color:"deep-orange","x-small":""},on:{click:function(a){return t.deleteCustomer(n.id)}}},[t._v(" Eliminar\n                    "),e("v-icon",{attrs:{small:"",right:"",dark:""}},[t._v(" mdi-close-outline ")])],1)]}}])}),t._v(" "),e("div",{staticClass:"text-center"},[e("v-container",[e("v-row",{attrs:{justify:"center"}},[e("v-col",{attrs:{cols:"8"}},[e("v-container",{staticClass:"max-width"},[e("v-pagination",{staticClass:"mx-4",attrs:{length:t.pagination.total},on:{input:t.onPageChange},model:{value:t.pagination.current,callback:function(a){t.$set(t.pagination,"current",a)},expression:"pagination.current"}})],1)],1)],1)],1)],1),t._v(" "),e("div",[e("v-dialog",{model:{value:t.dialogDetail,callback:function(a){t.dialogDetail=a},expression:"dialogDetail"}},[e("v-card",{attrs:{height:"100%"}},[e("v-row",{staticClass:"mx-2"},[e("v-col",{attrs:{cols:"4",md:"3"}},[e("v-card-title",[t._v("\n                                Oper. Num.\n                                "),e("v-card-text",[t._v("\n                                    "+t._s(t.pay.id)+"\n                                ")])],1)],1),t._v(" "),e("v-col",{attrs:{cols:"8",md:"3"}},[e("v-card-title",[t._v("\n                                Cliente\n                                "),e("v-card-text",[t._v("\n                                    "+t._s(t.pay.customer_name)+"\n                                ")])],1)],1),t._v(" "),e("v-col",{attrs:{cols:"6",md:"3"}},[e("v-card-title",[t._v("\n                                Referencia Bancaria\n                                "),e("v-card-text",[t._v("\n                                    "+t._s(t.pay.operation_code)+"\n                                ")])],1)],1),t._v(" "),t.pay.bank?e("v-col",{attrs:{cols:"6",md:"3"}},[e("v-card-title",[t._v("\n                                Fecha Registro\n                                "),e("v-card-text",[t._v("\n                                    "+t._s(t.pay.created_at)+"\n                                ")])],1)],1):t._e(),t._v(" "),t.pay.bank?e("v-col",{attrs:{cols:"6",md:"3"}},[e("v-card-title",[t._v("\n                                Banco Receptor\n                            "),e("v-card-text",[t._v("\n                                "+t._s(t.pay.bank.bank_name)+"\n                            ")])],1)],1):t._e(),t._v(" "),e("v-col",{attrs:{cols:"6",md:"3"}},[e("v-card-title",[t._v("\n                                Monto entrante\n                            "),e("v-card-text",[t._v("\n                                "+t._s(t.pay.pay+" "+t.pay.pay_iso)+"\n                            ")])],1)],1),t._v(" "),e("v-col",{attrs:{cols:"6",md:"3"}},[e("v-card-title",[t._v("\n                                Total en Bs.\n                            "),e("v-card-text",[t._v("\n                                "+t._s(t.pay.price_formated)+"\n                            ")])],1)],1)],1),t._v(" "),e("v-card-text",[e("v-simple-table",{attrs:{"fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("\n                                            Nombre\n                                        ")]),t._v(" "),e("th",{staticClass:"text-left"},[t._v("\n                                            C.I/D.N.I.\n                                        ")]),t._v(" "),e("th",{staticClass:"text-left"},[t._v("\n                                            Banco\n                                        ")]),t._v(" "),e("th",{staticClass:"text-left"},[t._v("\n                                            Cuenta\n                                        ")]),t._v(" "),e("th",{staticClass:"text-left"},[t._v("\n                                            Monto\n                                        ")])])]),t._v(" "),e("tbody",t._l(t.pay.detail_payments,(function(a){return e("tr",{key:a.name},[e("td",[t._v(t._s(a.name))]),t._v(" "),e("td",[t._v(t._s(a.dni))]),t._v(" "),e("td",[t._v(t._s(a.bank_name))]),t._v(" "),e("td",[t._v(t._s(a.bank_account))]),t._v(" "),e("td",[t._v(t._s(a.amount_formated))])])})),0)]},proxy:!0}])})],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{medium:"",filled:"","elevation-4":"",color:"blue-grey"},on:{click:function(a){return t.closeDialog()}}},[t._v(" Cerrar")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);a.default=o.exports}}]);